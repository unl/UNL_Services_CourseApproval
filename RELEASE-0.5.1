Add support for multiple search facets and auto-faceting of queries.

Examples:

* Ace 3 honors MATH

Bug Fix:

* PHP 5.3 compatibility
